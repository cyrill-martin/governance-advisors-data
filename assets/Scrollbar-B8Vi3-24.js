import{r as E,aQ as Ze,w as $e,k as H,P as Re,W as ln,X as cn,M as un,O as Ce,a2 as dn,g as be,i as P,aR as fn,B as hn,$ as vn,R as bn,b as ke,a as Le,aS as pn,aE as fe,f as W,y as gn,d as mn,c as ge,e as re,z as me,u as wn,s as xn,j as vt,Y as Ue,t as yn,l as zn,T as qe,m as Sn}from"./index-Bj3Ieg7B.js";function bt(e){return e.composedPath()[0]||null}function ze(e){return e.composedPath()[0]}const Rn={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function Tn(e,t,n){if(e==="mousemoveoutside"){const r=o=>{t.contains(ze(o))||n(o)};return{mousemove:r,touchstart:r}}else if(e==="clickoutside"){let r=!1;const o=v=>{r=!t.contains(ze(v))},c=v=>{r&&(t.contains(ze(v))||n(v))};return{mousedown:o,mouseup:c,touchstart:o,touchend:c}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function pt(e,t,n){const r=Rn[e];let o=r.get(t);o===void 0&&r.set(t,o=new WeakMap);let c=o.get(n);return c===void 0&&o.set(n,c=Tn(e,t,n)),c}function En(e,t,n,r){if(e==="mousemoveoutside"||e==="clickoutside"){const o=pt(e,t,n);return Object.keys(o).forEach(c=>{q(c,document,o[c],r)}),!0}return!1}function Bn(e,t,n,r){if(e==="mousemoveoutside"||e==="clickoutside"){const o=pt(e,t,n);return Object.keys(o).forEach(c=>{V(c,document,o[c],r)}),!0}return!1}function Hn(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function n(){e.set(this,!0)}function r(){e.set(this,!0),t.set(this,!0)}function o(a,s,h){const b=a[s];return a[s]=function(){return h.apply(a,arguments),b.apply(a,arguments)},a}function c(a,s){a[s]=Event.prototype[s]}const v=new WeakMap,S=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function R(){var a;return(a=v.get(this))!==null&&a!==void 0?a:null}function p(a,s){S!==void 0&&Object.defineProperty(a,"currentTarget",{configurable:!0,enumerable:!0,get:s??S.get})}const w={bubble:{},capture:{}},g={};function O(){const a=function(s){const{type:h,eventPhase:b,bubbles:z}=s,C=ze(s);if(b===2)return;const F=b===1?"capture":"bubble";let M=C;const L=[];for(;M===null&&(M=window),L.push(M),M!==window;)M=M.parentNode||null;const A=w.capture[h],U=w.bubble[h];if(o(s,"stopPropagation",n),o(s,"stopImmediatePropagation",r),p(s,R),F==="capture"){if(A===void 0)return;for(let N=L.length-1;N>=0&&!e.has(s);--N){const G=L[N],ee=A.get(G);if(ee!==void 0){v.set(s,G);for(const J of ee){if(t.has(s))break;J(s)}}if(N===0&&!z&&U!==void 0){const J=U.get(G);if(J!==void 0)for(const pe of J){if(t.has(s))break;pe(s)}}}}else if(F==="bubble"){if(U===void 0)return;for(let N=0;N<L.length&&!e.has(s);++N){const G=L[N],ee=U.get(G);if(ee!==void 0){v.set(s,G);for(const J of ee){if(t.has(s))break;J(s)}}}}c(s,"stopPropagation"),c(s,"stopImmediatePropagation"),p(s)};return a.displayName="evtdUnifiedHandler",a}function x(){const a=function(s){const{type:h,eventPhase:b}=s;if(b!==2)return;const z=g[h];z!==void 0&&z.forEach(C=>C(s))};return a.displayName="evtdUnifiedWindowEventHandler",a}const B=O(),_=x();function d(a,s){const h=w[a];return h[s]===void 0&&(h[s]=new Map,window.addEventListener(s,B,a==="capture")),h[s]}function f(a){return g[a]===void 0&&(g[a]=new Set,window.addEventListener(a,_)),g[a]}function $(a,s){let h=a.get(s);return h===void 0&&a.set(s,h=new Set),h}function k(a,s,h,b){const z=w[s][h];if(z!==void 0){const C=z.get(a);if(C!==void 0&&C.has(b))return!0}return!1}function j(a,s){const h=g[a];return!!(h!==void 0&&h.has(s))}function K(a,s,h,b){let z;if(typeof b=="object"&&b.once===!0?z=A=>{I(a,s,z,b),h(A)}:z=h,En(a,s,z,b))return;const F=b===!0||typeof b=="object"&&b.capture===!0?"capture":"bubble",M=d(F,a),L=$(M,s);if(L.has(z)||L.add(z),s===window){const A=f(a);A.has(z)||A.add(z)}}function I(a,s,h,b){if(Bn(a,s,h,b))return;const C=b===!0||typeof b=="object"&&b.capture===!0,F=C?"capture":"bubble",M=d(F,a),L=$(M,s);if(s===window&&!k(s,C?"bubble":"capture",a,h)&&j(a,h)){const U=g[a];U.delete(h),U.size===0&&(window.removeEventListener(a,_),g[a]=void 0)}L.has(h)&&L.delete(h),L.size===0&&M.delete(s),M.size===0&&(window.removeEventListener(a,B,F==="capture"),w[F][a]=void 0)}return{on:K,off:I}}const{on:q,off:V}=Hn();function On(e){const t=E(!!e.value);if(t.value)return Ze(t);const n=$e(e,r=>{r&&(t.value=!0,n())});return Ze(t)}function br(e,t){return $e(e,n=>{n!==void 0&&(t.value=n)}),H(()=>e.value===void 0?t.value:e.value)}const In=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function Mn(){return In}const pr=Re("n-drawer-body"),gr=Re("n-drawer"),mr=Re("n-modal-body"),wr=Re("n-popover-body");function Pn(e){const t={isDeactivated:!1};let n=!1;return ln(()=>{if(t.isDeactivated=!1,!n){n=!0;return}e()}),cn(()=>{t.isDeactivated=!0,n||(n=!0)}),t}function Ke(e,t,n="default"){const r=t[n];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${n}] is empty.`);return r()}function Me(e,t=!0,n=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&n.push(un(String(r)));return}if(Array.isArray(r)){Me(r,t,n);return}if(r.type===Ce){if(r.children===null)return;Array.isArray(r.children)&&Me(r.children,t,n)}else r.type!==dn&&n.push(r)}}),n}function xr(e,t,n="default"){const r=t[n];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${n}] is empty.`);const o=Me(r());if(o.length===1)return o[0];throw new Error(`[vueuc/${e}]: slot[${n}] should have exactly one child.`)}const le="@@coContext",yr={mounted(e,{value:t,modifiers:n}){e[le]={handler:void 0},typeof t=="function"&&(e[le].handler=t,q("clickoutside",e,t,{capture:n.capture}))},updated(e,{value:t,modifiers:n}){const r=e[le];typeof t=="function"?r.handler?r.handler!==t&&(V("clickoutside",e,r.handler,{capture:n.capture}),r.handler=t,q("clickoutside",e,t,{capture:n.capture})):(e[le].handler=t,q("clickoutside",e,t,{capture:n.capture})):r.handler&&(V("clickoutside",e,r.handler,{capture:n.capture}),r.handler=void 0)},unmounted(e,{modifiers:t}){const{handler:n}=e[le];n&&V("clickoutside",e,n,{capture:t.capture}),e[le].handler=void 0}};function $n(e,t){console.error(`[vdirs/${e}]: ${t}`)}class Cn{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(t,n){const{elementZIndex:r}=this;if(n!==void 0){t.style.zIndex=`${n}`,r.delete(t);return}const{nextZIndex:o}=this;r.has(t)&&r.get(t)+1===this.nextZIndex||(t.style.zIndex=`${o}`,r.set(t,o),this.nextZIndex=o+1,this.squashState())}unregister(t,n){const{elementZIndex:r}=this;r.has(t)?r.delete(t):n===void 0&&$n("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:t}=this;t||(this.nextZIndex=2e3),this.nextZIndex-t>2500&&this.rearrange()}rearrange(){const t=Array.from(this.elementZIndex.entries());t.sort((n,r)=>n[1]-r[1]),this.nextZIndex=2e3,t.forEach(n=>{const r=n[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const He=new Cn,ce="@@ziContext",zr={mounted(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n;e[ce]={enabled:!!o,initialized:!1},o&&(He.ensureZIndex(e,r),e[ce].initialized=!0)},updated(e,t){const{value:n={}}=t,{zIndex:r,enabled:o}=n,c=e[ce].enabled;o&&!c&&(He.ensureZIndex(e,r),e[ce].initialized=!0),e[ce].enabled=!!o},unmounted(e,t){if(!e[ce].initialized)return;const{value:n={}}=t,{zIndex:r}=n;He.unregister(e,r)}};function Ge(e,t){console.error(`[vueuc/${e}]: ${t}`)}function Je(e){return typeof e=="string"?document.querySelector(e):e()||null}const Sr=be({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:On(hn(e,"show")),mergedTo:H(()=>{const{to:t}=e;return t??"body"})}},render(){return this.showTeleport?this.disabled?Ke("lazy-teleport",this.$slots):P(fn,{disabled:this.disabled,to:this.mergedTo},Ke("lazy-teleport",this.$slots)):null}});var oe=[],kn=function(){return oe.some(function(e){return e.activeTargets.length>0})},Ln=function(){return oe.some(function(e){return e.skippedTargets.length>0})},Qe="ResizeObserver loop completed with undelivered notifications.",Dn=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Qe}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Qe),window.dispatchEvent(e)},ve;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ve||(ve={}));var ie=function(e){return Object.freeze(e)},Wn=(function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ie(this)}return e})(),gt=(function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ie(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,c=t.right,v=t.bottom,S=t.left,R=t.width,p=t.height;return{x:n,y:r,top:o,right:c,bottom:v,left:S,width:R,height:p}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e})(),De=function(e){return e instanceof SVGElement&&"getBBox"in e},mt=function(e){if(De(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,c=o.offsetWidth,v=o.offsetHeight;return!(c||v||e.getClientRects().length)},et=function(e){var t;if(e instanceof Element)return!0;var n=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Fn=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},he=typeof window<"u"?window:{},we=new WeakMap,tt=/auto|scroll/,An=/^tb|vertical/,Xn=/msie|trident/i.test(he.navigator&&he.navigator.userAgent),Z=function(e){return parseFloat(e||"0")},ue=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Wn((n?t:e)||0,(n?e:t)||0)},nt=ie({devicePixelContentBoxSize:ue(),borderBoxSize:ue(),contentBoxSize:ue(),contentRect:new gt(0,0,0,0)}),wt=function(e,t){if(t===void 0&&(t=!1),we.has(e)&&!t)return we.get(e);if(mt(e))return we.set(e,nt),nt;var n=getComputedStyle(e),r=De(e)&&e.ownerSVGElement&&e.getBBox(),o=!Xn&&n.boxSizing==="border-box",c=An.test(n.writingMode||""),v=!r&&tt.test(n.overflowY||""),S=!r&&tt.test(n.overflowX||""),R=r?0:Z(n.paddingTop),p=r?0:Z(n.paddingRight),w=r?0:Z(n.paddingBottom),g=r?0:Z(n.paddingLeft),O=r?0:Z(n.borderTopWidth),x=r?0:Z(n.borderRightWidth),B=r?0:Z(n.borderBottomWidth),_=r?0:Z(n.borderLeftWidth),d=g+p,f=R+w,$=_+x,k=O+B,j=S?e.offsetHeight-k-e.clientHeight:0,K=v?e.offsetWidth-$-e.clientWidth:0,I=o?d+$:0,a=o?f+k:0,s=r?r.width:Z(n.width)-I-K,h=r?r.height:Z(n.height)-a-j,b=s+d+K+$,z=h+f+j+k,C=ie({devicePixelContentBoxSize:ue(Math.round(s*devicePixelRatio),Math.round(h*devicePixelRatio),c),borderBoxSize:ue(b,z,c),contentBoxSize:ue(s,h,c),contentRect:new gt(g,R,s,h)});return we.set(e,C),C},xt=function(e,t,n){var r=wt(e,n),o=r.borderBoxSize,c=r.contentBoxSize,v=r.devicePixelContentBoxSize;switch(t){case ve.DEVICE_PIXEL_CONTENT_BOX:return v;case ve.BORDER_BOX:return o;default:return c}},Vn=(function(){function e(t){var n=wt(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ie([n.borderBoxSize]),this.contentBoxSize=ie([n.contentBoxSize]),this.devicePixelContentBoxSize=ie([n.devicePixelContentBoxSize])}return e})(),yt=function(e){if(mt(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},_n=function(){var e=1/0,t=[];oe.forEach(function(v){if(v.activeTargets.length!==0){var S=[];v.activeTargets.forEach(function(p){var w=new Vn(p.target),g=yt(p.target);S.push(w),p.lastReportedSize=xt(p.target,p.observedBox),g<e&&(e=g)}),t.push(function(){v.callback.call(v.observer,S,v.observer)}),v.activeTargets.splice(0,v.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},rt=function(e){oe.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(yt(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},Yn=function(){var e=0;for(rt(e);kn();)e=_n(),rt(e);return Ln()&&Dn(),e>0},Oe,zt=[],jn=function(){return zt.splice(0).forEach(function(e){return e()})},Nn=function(e){if(!Oe){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return jn()}).observe(n,r),Oe=function(){n.textContent="".concat(t?t--:t++)}}zt.push(e),Oe()},Zn=function(e){Nn(function(){requestAnimationFrame(e)})},Se=0,Un=function(){return!!Se},qn=250,Kn={attributes:!0,characterData:!0,childList:!0,subtree:!0},ot=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],it=function(e){return e===void 0&&(e=0),Date.now()+e},Ie=!1,Gn=(function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=qn),!Ie){Ie=!0;var r=it(t);Zn(function(){var o=!1;try{o=Yn()}finally{if(Ie=!1,t=r-it(),!Un())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Kn)};document.body?n():he.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ot.forEach(function(n){return he.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ot.forEach(function(n){return he.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e})(),Pe=new Gn,at=function(e){!Se&&e>0&&Pe.start(),Se+=e,!Se&&Pe.stop()},Jn=function(e){return!De(e)&&!Fn(e)&&getComputedStyle(e).display==="inline"},Qn=(function(){function e(t,n){this.target=t,this.observedBox=n||ve.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=xt(this.target,this.observedBox,!0);return Jn(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e})(),er=(function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e})(),xe=new WeakMap,st=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ye=(function(){function e(){}return e.connect=function(t,n){var r=new er(t,n);xe.set(t,r)},e.observe=function(t,n,r){var o=xe.get(t),c=o.observationTargets.length===0;st(o.observationTargets,n)<0&&(c&&oe.push(o),o.observationTargets.push(new Qn(n,r&&r.box)),at(1),Pe.schedule())},e.unobserve=function(t,n){var r=xe.get(t),o=st(r.observationTargets,n),c=r.observationTargets.length===1;o>=0&&(c&&oe.splice(oe.indexOf(r),1),r.observationTargets.splice(o,1),at(-1))},e.disconnect=function(t){var n=this,r=xe.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e})(),tr=(function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ye.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!et(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ye.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!et(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ye.unobserve(this,t)},e.prototype.disconnect=function(){ye.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e})();class nr{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new(typeof window<"u"&&window.ResizeObserver||tr)(this.handleResize),this.elHandlersMap=new Map}handleResize(t){for(const n of t){const r=this.elHandlersMap.get(n.target);r!==void 0&&r(n)}}registerHandler(t,n){this.elHandlersMap.set(t,n),this.observer.observe(t)}unregisterHandler(t){this.elHandlersMap.has(t)&&(this.elHandlersMap.delete(t),this.observer.unobserve(t))}}const lt=new nr,ct=be({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const n=bn().proxy;function r(o){const{onResize:c}=e;c!==void 0&&c(o)}ke(()=>{const o=n.$el;if(o===void 0){Ge("resize-observer","$el does not exist.");return}if(o.nextElementSibling!==o.nextSibling&&o.nodeType===3&&o.nodeValue!==""){Ge("resize-observer","$el can not be observed (it may be a text node).");return}o.nextElementSibling!==null&&(lt.registerHandler(o.nextElementSibling,r),t=!0)}),Le(()=>{t&&lt.unregisterHandler(n.$el.nextElementSibling)})},render(){return vn(this.$slots,"default")}});function St(e){return e instanceof HTMLElement}function Rt(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(St(n)&&(Et(n)||Rt(n)))return!0}return!1}function Tt(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(St(n)&&(Et(n)||Tt(n)))return!0}return!1}function Et(e){if(!rr(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function rr(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"SELECT":case"TEXTAREA":return!0;default:return!1}}let de=[];const Rr=be({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:[String,Function],finalFocusTo:[String,Function],returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const t=pn(),n=E(null),r=E(null);let o=!1,c=!1;const v=typeof document>"u"?null:document.activeElement;function S(){return de[de.length-1]===t}function R(d){var f;d.code==="Escape"&&S()&&((f=e.onEsc)===null||f===void 0||f.call(e,d))}ke(()=>{$e(()=>e.active,d=>{d?(g(),q("keydown",document,R)):(V("keydown",document,R),o&&O())},{immediate:!0})}),Le(()=>{V("keydown",document,R),o&&O()});function p(d){if(!c&&S()){const f=w();if(f===null||f.contains(bt(d)))return;x("first")}}function w(){const d=n.value;if(d===null)return null;let f=d;for(;f=f.nextSibling,!(f===null||f instanceof Element&&f.tagName==="DIV"););return f}function g(){var d;if(!e.disabled){if(de.push(t),e.autoFocus){const{initialFocusTo:f}=e;f===void 0?x("first"):(d=Je(f))===null||d===void 0||d.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",p,!0)}}function O(){var d;if(e.disabled||(document.removeEventListener("focus",p,!0),de=de.filter($=>$!==t),S()))return;const{finalFocusTo:f}=e;f!==void 0?(d=Je(f))===null||d===void 0||d.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&v instanceof HTMLElement&&(c=!0,v.focus({preventScroll:!0}),c=!1)}function x(d){if(S()&&e.active){const f=n.value,$=r.value;if(f!==null&&$!==null){const k=w();if(k==null||k===$){c=!0,f.focus({preventScroll:!0}),c=!1;return}c=!0;const j=d==="first"?Rt(k):Tt(k);c=!1,j||(c=!0,f.focus({preventScroll:!0}),c=!1)}}}function B(d){if(c)return;const f=w();f!==null&&(d.relatedTarget!==null&&f.contains(d.relatedTarget)?x("last"):x("first"))}function _(d){c||(d.relatedTarget!==null&&d.relatedTarget===n.value?x("last"):x("first"))}return{focusableStartRef:n,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:B,handleEndFocus:_}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:t,focusableStyle:n}=this;return P(Ce,null,[P("div",{"aria-hidden":"true",tabindex:t?"0":"-1",ref:"focusableStartRef",style:n,onFocus:this.handleStartFocus}),e(),P("div",{"aria-hidden":"true",style:n,ref:"focusableEndRef",tabindex:t?"0":"-1",onFocus:this.handleEndFocus})])}}),or=/^(\d|\.)+$/,ut=/(\d|\.)+/;function Tr(e,{c:t=1,offset:n=0,attachPx:r=!0}={}){if(typeof e=="number"){const o=(e+n)*t;return o===0?"0":`${o}px`}else if(typeof e=="string")if(or.test(e)){const o=(Number(e)+n)*t;return r?o===0?"0":`${o}px`:`${o}`}else{const o=ut.exec(e);return o?e.replace(ut,String((Number(o[0])+n)*t)):e}return e}function dt(e){const{left:t,right:n,top:r,bottom:o}=fe(e);return`${r} ${t} ${o} ${n}`}const Bt=new WeakSet;function Er(e){Bt.add(e)}function Br(e){return!Bt.has(e)}function ir(e,...t){if(Array.isArray(e))e.forEach(n=>ir(n,...t));else return e(...t)}const ft=be({render(){var e,t;return(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e)}}),{cubicBezierEaseInOut:ht}=gn;function ar({name:e="fade-in",enterDuration:t="0.2s",leaveDuration:n="0.2s",enterCubicBezier:r=ht,leaveCubicBezier:o=ht}={}){return[W(`&.${e}-transition-enter-active`,{transition:`all ${t} ${r}!important`}),W(`&.${e}-transition-leave-active`,{transition:`all ${n} ${o}!important`}),W(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),W(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const sr={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function lr(e){const{scrollbarColor:t,scrollbarColorHover:n,scrollbarHeight:r,scrollbarWidth:o,scrollbarBorderRadius:c}=e;return Object.assign(Object.assign({},sr),{height:r,width:o,borderRadius:c,color:t,colorHover:n})}const cr={name:"Scrollbar",common:mn,self:lr},ur=ge("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[W(">",[ge("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 min-height: inherit;
 max-height: inherit;
 scrollbar-width: none;
 `,[W("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),W(">",[ge("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),W(">, +",[ge("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 background: var(--n-scrollbar-rail-color);
 -webkit-user-select: none;
 `,[re("horizontal",`
 height: var(--n-scrollbar-height);
 `,[W(">",[me("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),re("horizontal--top",`
 top: var(--n-scrollbar-rail-top-horizontal-top); 
 right: var(--n-scrollbar-rail-right-horizontal-top); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-top); 
 left: var(--n-scrollbar-rail-left-horizontal-top); 
 `),re("horizontal--bottom",`
 top: var(--n-scrollbar-rail-top-horizontal-bottom); 
 right: var(--n-scrollbar-rail-right-horizontal-bottom); 
 bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); 
 left: var(--n-scrollbar-rail-left-horizontal-bottom); 
 `),re("vertical",`
 width: var(--n-scrollbar-width);
 `,[W(">",[me("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),re("vertical--left",`
 top: var(--n-scrollbar-rail-top-vertical-left); 
 right: var(--n-scrollbar-rail-right-vertical-left); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-left); 
 left: var(--n-scrollbar-rail-left-vertical-left); 
 `),re("vertical--right",`
 top: var(--n-scrollbar-rail-top-vertical-right); 
 right: var(--n-scrollbar-rail-right-vertical-right); 
 bottom: var(--n-scrollbar-rail-bottom-vertical-right); 
 left: var(--n-scrollbar-rail-left-vertical-right); 
 `),re("disabled",[W(">",[me("scrollbar","pointer-events: none;")])]),W(">",[me("scrollbar",`
 z-index: 1;
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[ar(),W("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),dr=Object.assign(Object.assign({},vt.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),fr=be({name:"Scrollbar",props:dr,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=wn(e),o=xn("Scrollbar",r,t),c=E(null),v=E(null),S=E(null),R=E(null),p=E(null),w=E(null),g=E(null),O=E(null),x=E(null),B=E(null),_=E(null),d=E(0),f=E(0),$=E(!1),k=E(!1);let j=!1,K=!1,I,a,s=0,h=0,b=0,z=0;const C=Mn(),F=vt("Scrollbar","-scrollbar",ur,cr,e,t),M=H(()=>{const{value:i}=O,{value:l}=w,{value:u}=B;return i===null||l===null||u===null?0:Math.min(i,u*i/l+Ue(F.value.self.width)*1.5)}),L=H(()=>`${M.value}px`),A=H(()=>{const{value:i}=x,{value:l}=g,{value:u}=_;return i===null||l===null||u===null?0:u*i/l+Ue(F.value.self.height)*1.5}),U=H(()=>`${A.value}px`),N=H(()=>{const{value:i}=O,{value:l}=d,{value:u}=w,{value:m}=B;if(i===null||u===null||m===null)return 0;{const T=u-i;return T?l/T*(m-M.value):0}}),G=H(()=>`${N.value}px`),ee=H(()=>{const{value:i}=x,{value:l}=f,{value:u}=g,{value:m}=_;if(i===null||u===null||m===null)return 0;{const T=u-i;return T?l/T*(m-A.value):0}}),J=H(()=>`${ee.value}px`),pe=H(()=>{const{value:i}=O,{value:l}=w;return i!==null&&l!==null&&l>i}),We=H(()=>{const{value:i}=x,{value:l}=g;return i!==null&&l!==null&&l>i}),Ht=H(()=>{const{trigger:i}=e;return i==="none"||$.value}),Ot=H(()=>{const{trigger:i}=e;return i==="none"||k.value}),te=H(()=>{const{container:i}=e;return i?i():v.value}),It=H(()=>{const{content:i}=e;return i?i():S.value}),Fe=(i,l)=>{if(!e.scrollable)return;if(typeof i=="number"){ae(i,l??0,0,!1,"auto");return}const{left:u,top:m,index:T,elSize:D,position:Y,behavior:y,el:X,debounce:Q=!0}=i;(u!==void 0||m!==void 0)&&ae(u??0,m??0,0,!1,y),X!==void 0?ae(0,X.offsetTop,X.offsetHeight,Q,y):T!==void 0&&D!==void 0?ae(0,T*D,D,Q,y):Y==="bottom"?ae(0,Number.MAX_SAFE_INTEGER,0,!1,y):Y==="top"&&ae(0,0,0,!1,y)},Ae=Pn(()=>{e.container||Fe({top:d.value,left:f.value})}),Mt=()=>{Ae.isDeactivated||ne()},Pt=i=>{if(Ae.isDeactivated)return;const{onResize:l}=e;l&&l(i),ne()},$t=(i,l)=>{if(!e.scrollable)return;const{value:u}=te;u&&(typeof i=="object"?u.scrollBy(i):u.scrollBy(i,l||0))};function ae(i,l,u,m,T){const{value:D}=te;if(D){if(m){const{scrollTop:Y,offsetHeight:y}=D;if(l>Y){l+u<=Y+y||D.scrollTo({left:i,top:l+u-y,behavior:T});return}}D.scrollTo({left:i,top:l,behavior:T})}}function Ct(){Wt(),Ft(),ne()}function kt(){Te()}function Te(){Lt(),Dt()}function Lt(){a!==void 0&&window.clearTimeout(a),a=window.setTimeout(()=>{k.value=!1},e.duration)}function Dt(){I!==void 0&&window.clearTimeout(I),I=window.setTimeout(()=>{$.value=!1},e.duration)}function Wt(){I!==void 0&&window.clearTimeout(I),$.value=!0}function Ft(){a!==void 0&&window.clearTimeout(a),k.value=!0}function At(i){const{onScroll:l}=e;l&&l(i),Xe()}function Xe(){const{value:i}=te;i&&(d.value=i.scrollTop,f.value=i.scrollLeft*(o?.value?-1:1))}function Xt(){const{value:i}=It;i&&(w.value=i.offsetHeight,g.value=i.offsetWidth);const{value:l}=te;l&&(O.value=l.offsetHeight,x.value=l.offsetWidth);const{value:u}=p,{value:m}=R;u&&(_.value=u.offsetWidth),m&&(B.value=m.offsetHeight)}function Ve(){const{value:i}=te;i&&(d.value=i.scrollTop,f.value=i.scrollLeft*(o?.value?-1:1),O.value=i.offsetHeight,x.value=i.offsetWidth,w.value=i.scrollHeight,g.value=i.scrollWidth);const{value:l}=p,{value:u}=R;l&&(_.value=l.offsetWidth),u&&(B.value=u.offsetHeight)}function ne(){e.scrollable&&(e.useUnifiedContainer?Ve():(Xt(),Xe()))}function _e(i){var l;return!(!((l=c.value)===null||l===void 0)&&l.contains(bt(i)))}function Vt(i){i.preventDefault(),i.stopPropagation(),K=!0,q("mousemove",window,Ye,!0),q("mouseup",window,je,!0),h=f.value,b=o?.value?window.innerWidth-i.clientX:i.clientX}function Ye(i){if(!K)return;I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a);const{value:l}=x,{value:u}=g,{value:m}=A;if(l===null||u===null)return;const D=(o?.value?window.innerWidth-i.clientX-b:i.clientX-b)*(u-l)/(l-m),Y=u-l;let y=h+D;y=Math.min(Y,y),y=Math.max(y,0);const{value:X}=te;if(X){X.scrollLeft=y*(o?.value?-1:1);const{internalOnUpdateScrollLeft:Q}=e;Q&&Q(y)}}function je(i){i.preventDefault(),i.stopPropagation(),V("mousemove",window,Ye,!0),V("mouseup",window,je,!0),K=!1,ne(),_e(i)&&Te()}function _t(i){i.preventDefault(),i.stopPropagation(),j=!0,q("mousemove",window,Ee,!0),q("mouseup",window,Be,!0),s=d.value,z=i.clientY}function Ee(i){if(!j)return;I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a);const{value:l}=O,{value:u}=w,{value:m}=M;if(l===null||u===null)return;const D=(i.clientY-z)*(u-l)/(l-m),Y=u-l;let y=s+D;y=Math.min(Y,y),y=Math.max(y,0);const{value:X}=te;X&&(X.scrollTop=y)}function Be(i){i.preventDefault(),i.stopPropagation(),V("mousemove",window,Ee,!0),V("mouseup",window,Be,!0),j=!1,ne(),_e(i)&&Te()}yn(()=>{const{value:i}=We,{value:l}=pe,{value:u}=t,{value:m}=p,{value:T}=R;m&&(i?m.classList.remove(`${u}-scrollbar-rail--disabled`):m.classList.add(`${u}-scrollbar-rail--disabled`)),T&&(l?T.classList.remove(`${u}-scrollbar-rail--disabled`):T.classList.add(`${u}-scrollbar-rail--disabled`))}),ke(()=>{e.container||ne()}),Le(()=>{I!==void 0&&window.clearTimeout(I),a!==void 0&&window.clearTimeout(a),V("mousemove",window,Ee,!0),V("mouseup",window,Be,!0)});const Ne=H(()=>{const{common:{cubicBezierEaseInOut:i},self:{color:l,colorHover:u,height:m,width:T,borderRadius:D,railInsetHorizontalTop:Y,railInsetHorizontalBottom:y,railInsetVerticalRight:X,railInsetVerticalLeft:Q,railColor:Yt}}=F.value,{top:jt,right:Nt,bottom:Zt,left:Ut}=fe(Y),{top:qt,right:Kt,bottom:Gt,left:Jt}=fe(y),{top:Qt,right:en,bottom:tn,left:nn}=fe(o?.value?dt(X):X),{top:rn,right:on,bottom:an,left:sn}=fe(o?.value?dt(Q):Q);return{"--n-scrollbar-bezier":i,"--n-scrollbar-color":l,"--n-scrollbar-color-hover":u,"--n-scrollbar-border-radius":D,"--n-scrollbar-width":T,"--n-scrollbar-height":m,"--n-scrollbar-rail-top-horizontal-top":jt,"--n-scrollbar-rail-right-horizontal-top":Nt,"--n-scrollbar-rail-bottom-horizontal-top":Zt,"--n-scrollbar-rail-left-horizontal-top":Ut,"--n-scrollbar-rail-top-horizontal-bottom":qt,"--n-scrollbar-rail-right-horizontal-bottom":Kt,"--n-scrollbar-rail-bottom-horizontal-bottom":Gt,"--n-scrollbar-rail-left-horizontal-bottom":Jt,"--n-scrollbar-rail-top-vertical-right":Qt,"--n-scrollbar-rail-right-vertical-right":en,"--n-scrollbar-rail-bottom-vertical-right":tn,"--n-scrollbar-rail-left-vertical-right":nn,"--n-scrollbar-rail-top-vertical-left":rn,"--n-scrollbar-rail-right-vertical-left":on,"--n-scrollbar-rail-bottom-vertical-left":an,"--n-scrollbar-rail-left-vertical-left":sn,"--n-scrollbar-rail-color":Yt}}),se=n?zn("scrollbar",void 0,Ne,e):void 0;return Object.assign(Object.assign({},{scrollTo:Fe,scrollBy:$t,sync:ne,syncUnifiedContainer:Ve,handleMouseEnterWrapper:Ct,handleMouseLeaveWrapper:kt}),{mergedClsPrefix:t,rtlEnabled:o,containerScrollTop:d,wrapperRef:c,containerRef:v,contentRef:S,yRailRef:R,xRailRef:p,needYBar:pe,needXBar:We,yBarSizePx:L,xBarSizePx:U,yBarTopPx:G,xBarLeftPx:J,isShowXBar:Ht,isShowYBar:Ot,isIos:C,handleScroll:At,handleContentResize:Mt,handleContainerResize:Pt,handleYScrollMouseDown:_t,handleXScrollMouseDown:Vt,cssVars:n?void 0:Ne,themeClass:se?.themeClass,onRender:se?.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:n,triggerDisplayManually:r,rtlEnabled:o,internalHoistYRail:c,yPlacement:v,xPlacement:S,xScrollable:R}=this;if(!this.scrollable)return(e=t.default)===null||e===void 0?void 0:e.call(t);const p=this.trigger==="none",w=(x,B)=>P("div",{ref:"yRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--vertical`,`${n}-scrollbar-rail--vertical--${v}`,x],"data-scrollbar-rail":!0,style:[B||"",this.verticalRailStyle],"aria-hidden":!0},P(p?ft:qe,p?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?P("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),g=()=>{var x,B;return(x=this.onRender)===null||x===void 0||x.call(this),P("div",Sn(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${n}-scrollbar`,this.themeClass,o&&`${n}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?(B=t.default)===null||B===void 0?void 0:B.call(t):P("div",{role:"none",ref:"containerRef",class:[`${n}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},P(ct,{onResize:this.handleContentResize},{default:()=>P("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${n}-scrollbar-content`,this.contentClass]},t)})),c?null:w(void 0,void 0),R&&P("div",{ref:"xRailRef",class:[`${n}-scrollbar-rail`,`${n}-scrollbar-rail--horizontal`,`${n}-scrollbar-rail--horizontal--${S}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},P(p?ft:qe,p?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?P("div",{class:`${n}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:o?this.xBarLeftPx:void 0,left:o?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},O=this.container?g():P(ct,{onResize:this.handleContainerResize},{default:g});return c?P(Ce,null,O,w(this.themeClass,this.cssVars)):O}}),Hr=fr;export{Rr as F,Sr as L,fr as S,ct as V,ft as W,Hr as X,pr as a,ar as b,yr as c,gr as d,Br as e,Tr as f,ir as g,V as h,Ke as i,xr as j,bt as k,Er as l,mr as m,q as o,wr as p,lt as r,cr as s,br as u,zr as z};
